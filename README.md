# üì¶ Docker Backup Script
–°–∫—Ä–∏–ø—Ç –¥–ª—è **—Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è Docker-–ø—Ä–æ–µ–∫—Ç–æ–≤**, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Python.  
 –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö `docker-compose.yml`
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏
- –ò—Å–∫–ª—é—á–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ –∏–∑ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ Anaconda-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏
## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/22crystyle/docker-backup-script.git
   cd docker-backup-script
   ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ [Anaconda](https://www.anaconda.com/):
   ```bash
   conda env create -f environment.yml
   conda activate backup_env
   ```
## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `config.json`:
```json
{
  "backup_dir": "../backups",
  "directories": [
    "./path/to/your/project",
    "./another/path"
  ],
  "exclude_dirs": [
    "./path/to/your/project/excluded_folder"
  ],
  "compose_dir": "./compose_links",
  "stop_containers": true,
  "restart_containers": true
}
```
| –ü–∞—Ä–∞–º–µ—Ç—Ä           | –û–ø–∏—Å–∞–Ω–∏–µ                                             |
|--------------------|------------------------------------------------------|
| `backup_dir`         | –ü–∞–ø–∫–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∞—Ä—Ö–∏–≤—ã                         |
| `directories`        | –ö–∞—Ç–∞–ª–æ–≥–∏ –¥–ª—è –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏                               |
| `exclude_dirs`       | –ö–∞—Ç–∞–ª–æ–≥–∏ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è                              |
| `compose_dir`        | –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–æ **—Å—Å—ã–ª–∫–∞–º–∏** –Ω–∞ —Ñ–∞–π–ª—ã `docker-compose.yml` |
| `stop_containers`    | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–µ—Ä–µ–¥ –±—ç–∫–∞–ø–æ–º               |
| `restart_containers` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ—Å–ª–µ –±—ç–∫–∞–ø–∞                |

**–í–∞–∂–Ω–æ:** –≤ –ø–∞–ø–∫–µ `compose_dir` –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è **—Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏** –Ω–∞ —Ñ–∞–π–ª—ã `docker-compose.yml`.
## üöÄ –ó–∞–ø—É—Å–∫
–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
conda activate backup_env
sudo python backup.py
```
## üìù –õ–æ–≥–∏
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–∏—à—É—Ç—Å—è –≤ —Ñ–∞–π–ª `log.txt`.
- –í –ª–æ–≥–∞—Ö –æ—Ç–º–µ—á–∞–µ—Ç—Å—è:
  - –ö–∞–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∞—Ä—Ö–∏–≤
  - –ö–∞–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–ø—É—â–µ–Ω—ã
  - –û—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—É—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω)
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏/–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
  - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
## ‚ùì FAQ:
**Q:** –ù—É–∂–Ω–æ –ª–∏ –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ `sudo`?  
 **A:** –î–∞, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.
 
**Q:** –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ Anaconda?  
 **A:** –ú–æ–∂–Ω–æ, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ `pyyaml` —á–µ—Ä–µ–∑ pip:
 
```bash
pip install pyyaml
```
–Ω–æ Anaconda –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏—è.
## ¬©Ô∏è –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.
